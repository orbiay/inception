user       www-data;
worker_processes  5;


http{
        include mime.types;
        server {
                #listen 443 default_server;
                #listen [::]:80 default_server;

                listen 443 ssl;
                #listen [::]:443;
                #
                # SSL configuration
                #ssl    on;
                ssl_certificate /etc/nginx/ssl/certificate.crt;
                ssl_certificate_key /etc/nginx/ssl/private.key;
                ssl_protocols TLSv1.2;
                #
                # Note: You should disable gzip for SSL traffic.
                # See: https://bugs.debian.org/773332
                #
                # Read up on ssl_ciphers to ensure a secure configuration.
                # See: https://bugs.debian.org/765782
                #
                # Self signed certs generated by the ssl-cert package
                # Don't use them in a production server!
                #
                # include snippets/snakeoil.conf;

                root /var/www/wordpress;

                # Add index.php to the list if you are using PHP
                index index.php;

                location / {
                        # First attempt to serve request as file, then
                        # as directory, then fall back to displaying a 404.
                        try_files $uri $uri/ =404;
                }
                location ~ \.php$ {
                        fastcgi_split_path_info ^(.+\.php)(/.+)$;
                        fastcgi_pass wordpress:9000;
                        fastcgi_index index.php;
                        include fastcgi.conf;
                        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
                }

        }
}
events{
        worker_connections  4096;   
}